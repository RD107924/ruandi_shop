<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>訂單結帳 - 軟迪華強北直購</title>
    <link rel="stylesheet" href="static/style.css" />
    <style>
      /* 針對數量按鈕的微調樣式 */
      .quantity-controls button {
        background-color: #e9ecef;
        border: 1px solid #ced4da;
        padding: 2px 8px;
        cursor: pointer;
        font-weight: bold;
      }
      .quantity-display {
        display: inline-block;
        min-width: 30px;
        text-align: center;
      }
      .remove-btn {
        background-color: transparent;
        border: none;
        color: #dc3545;
        cursor: pointer;
        font-size: 1.2em;
      }

      /* 收款資訊與複製按鈕樣式 */
      .payment-info-box {
        background-color: #f8f9fa;
        border: 1px solid #dee2e6;
        padding: 15px;
        margin-bottom: 20px;
        border-radius: 5px;
      }
      .payment-info-box h4 {
        margin-top: 0;
      }
      .account-line {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 1.1em;
        flex-wrap: wrap;
      }
      #bank-account-number {
        font-weight: bold;
        color: #007bff;
        letter-spacing: 1px;
      }
      #copy-account-btn {
        padding: 5px 10px;
        border: 1px solid #007bff;
        background-color: white;
        color: #007bff;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.2s;
      }
      #copy-account-btn:hover {
        background-color: #007bff;
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="container" style="max-width: 800px">
      <h1>訂單結帳</h1>
      <a href="index.html">返回商店首頁</a>
      <div class="admin-section" style="padding-top: 0">
        <h2>您的購物車明細</h2>
        <table id="cart-summary-table">
          <thead>
            <tr>
              <th>商品名稱</th>
              <th>單價</th>
              <th>數量</th>
              <th>小計</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody id="cart-items"></tbody>
          <tfoot>
            <tr style="font-weight: bold; font-size: 1.2em">
              <td
                data-label="總計"
                colspan="4"
                style="
                  text-align: right;
                  border-top: 2px solid #333;
                  padding: 12px;
                "
              >
                訂單總金額
              </td>
              <td
                id="cart-total"
                data-label="總金額"
                style="border-top: 2px solid #333; padding: 12px"
              ></td>
            </tr>
          </tfoot>
        </table>
      </div>

      <form
        id="checkout-form"
        class="admin-section"
        style="box-shadow: none; border: 1px solid #ddd"
      >
        <div class="payment-info-box">
          <h4>請匯款至以下帳戶</h4>
          <p>銀行：中華郵政 (700)</p>
          <div class="account-line">
            <span>帳號：</span>
            <span id="bank-account-number">00314790138491</span>
            <button type="button" id="copy-account-btn">一鍵複製</button>
          </div>
        </div>

        <div class="form-group">
          <label for="paopaohu-id">跑跑虎集運會員編號 (必填)</label>
          <input
            type="text"
            id="paopaohu-id"
            required
            placeholder="請輸入您在跑跑虎的會員編號"
          />
        </div>
        <div class="form-group">
          <label for="payment-code">您的匯款帳號末五碼 (必填)</label>
          <input
            type="text"
            id="payment-code"
            required
            maxlength="5"
            pattern="[0-9]{5}"
            placeholder="請輸入5位數字"
          />
        </div>

        <div
          class="form-group"
          style="
            background-color: #fffbe6;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #ffc107;
          "
        >
          <p style="margin-top: 0; font-weight: bold">⚠️ 最終確認</p>
          <p>
            我確認本服務僅負責代為採購商品並寄送至指定之跑跑虎集運<strong
              style="color: red"
              >(深圳)</strong
            >倉，後續大陸到台灣的運費將由我自行在跑跑虎APP操作並支付。
          </p>
          <label for="final-confirmation-input"
            >為確保您已了解，請在此處輸入「<strong style="color: #d9534f"
              >我了解</strong
            >」以啟用下單按鈕：</label
          >
          <input
            type="text"
            id="final-confirmation-input"
            autocomplete="off"
            placeholder="請輸入『我了解』"
          />
        </div>

        <button
          type="submit"
          id="submit-order-btn"
          class="action-button"
          style="background-color: #6c757d"
          disabled
        >
          確認下單，送出訂單
        </button>
      </form>
    </div>
    <script src="static/checkout.js" defer></script>
  </body>
</html>
